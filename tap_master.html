<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>TAP Master</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="css/tap_master.css" />
</head>
<body>
  <!-- Idle -->
  <div id="idle" class="center">
    <h1 style="font-size:72px;">TAP</h1>
    <label>Target: <input id="targetInput" type="number" value="50" /></label>
    <div id="botControls" style="margin:20px 0; display:flex; flex-direction:column; align-items:flex-start; gap:12px;">
      <label>
        <input type="checkbox" id="enableBots" />
        Enable bots
      </label>
      <label>
        Number of bots:
        <input id="botCount" type="number" min="1" max="999" value="3" disabled />
      </label>
    </div>
    <button id="createBtn">Create race</button>
  </div>

  <!-- Waiting -->
  <div id="wait" class="center hidden">
    <h1>Are you ready?</h1>
    <canvas id="qrCanvas" width="300" height="300"></canvas>
    <div id="playersCount">Joined: 0</div>
    <button id="startBtn">Start</button>
  </div>

  <!-- Countdown -->
  <div id="countdown" class="center hidden">
    <h1 id="countNum" style="font-size:108px;"></h1>
  </div>

  <!-- Race + Finished shared wrapper -->
  <div id="raceFinished" class="center hidden">
    <div id="bannerWrapper">
      <div id="winnerBanner"></div>
    </div>
    <div id="chartArea">
      <div id="chart"></div>
    </div>
    <button id="restartBtn" class="hidden">Restart</button>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/qrious/dist/qrious.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  <script type="module" src="js/tap_master.js"></script>
</body>
</html>
