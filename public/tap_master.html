<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>TAP Master</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="css/tap_master.css" />
</head>
<body>
  <!-- Idle -->
  <div id="idle" class="center">
    <h1 style="font-size: 72px;">TAP</h1>
    <label>Target: <input id="targetInput" type="number" value="50" /></label>

    <!-- Advanced Options -->
    <div id="advancedOptions">
      <button id="toggleAdvanced">Advanced options â–¸</button>
      <div id="advancedContent" class="collapsed">
        <fieldset class="groupBox">
          <legend>Bot Options</legend>
          <div class="botGrid">
            <label for="enableBots">Enable bots:</label>
            <input type="checkbox" id="enableBots" />

            <label for="botCount">Number of bots:</label>
            <input type="number" id="botCount" min="1" max="999" value="3" disabled />

            <label>Difficulty:</label>
            <div class="toggle">
              <input type="radio" name="difficulty" id="casual" value="casual" checked />
              <label for="casual">Casual</label>
              <input type="radio" name="difficulty" id="challenging" value="challenging" />
              <label for="challenging">Challenging</label>
            </div>

            <label for="botStyle">Style:</label>
            <select id="botStyle">
              <option value="animal">Animal</option>
              <option value="vehicle">Vehicle</option>
            </select>
          </div>
        </fieldset>
      </div>
    </div>

    <button id="createBtn">Create race</button>
  </div>

  <!-- Waiting -->
  <div id="wait" class="center hidden">
    <h1>Are you ready?</h1>
    <canvas id="qrCanvas" width="300" height="300"></canvas>
    <div id="playersCount">Joined: 0</div>
    <button id="startBtn" disabled>Start</button>
  </div>

  <!-- Countdown -->
  <div id="countdown" class="center hidden">
    <h1 id="countNum" style="font-size:108px;"></h1>
  </div>

  <!-- Race + Finished shared wrapper -->
  <div id="raceFinished" class="center hidden">
    <div id="bannerWrapper">
      <div id="winnerBanner"></div>
    </div>
    <div id="chartArea">
      <div id="chart"></div>
    </div>
    <button id="restartBtn" class="hidden">Restart</button>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/qrious/dist/qrious.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  <script type="module" src="js/tap_master.js"></script>
</body>
</html>
